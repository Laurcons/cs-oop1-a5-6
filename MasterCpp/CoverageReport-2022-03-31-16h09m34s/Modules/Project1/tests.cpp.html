<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>tests.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "tests.h"
#include "vector.h"
#include "domain.h"
#include "repository.h"
#include "controller.h"
#include &lt;cassert&gt;
#include &lt;sstream&gt;

<span style = "background-color:#dfd">void test_vector() {
	bub::vector&lt;int&gt; v;
	v.add(13);
	v.add(15);
	v.add(17);
	v = v + 16;
	assert(v.at(1) == 15);
	assert(v.at(1) == v[1]);
	assert(v[3] == 16);
	v.remove(1);
	assert(v[1] == 17);
	auto it = v.begin();
	assert(*it == 13);
	++it;
	assert(*it == 17);
}</span>

<span style = "background-color:#dfd">void test_tutorial() {
	bub::tutorial tut;
	tut</span>
		.set_title("title1")
		.set_presenter("presenterA")
		.set_duration(bub::duration{ 12, 13 })
		.set_likes(1234)
		.set_link("link");
<span style = "background-color:#dfd">	assert((</span>
		tut.get_title() == "title1" &amp;&amp;
		tut.get_presenter() == "presenterA" &amp;&amp;
		tut.get_duration() == bub::duration{ 12, 13 } &amp;&amp;
		tut.get_likes() == 1234 &amp;&amp;
		tut.get_link() == "link"
	));
<span style = "background-color:#dfd">	tut.inc_likes();
	assert(tut.get_likes() == 1235);
	bub::tutorial tut2{</span>
		"title1",
		"presenterB",
		bub::duration{11, 11},
		1000,
		"link2"
	};
<span style = "background-color:#dfd">	assert(tut == tut2);
	assert(!(tut != tut2));
	tut = tut2;
	assert(tut.get_link() == "link2");
	std::stringstream ss;
	ss &lt;&lt; tut;
}</span>

<span style = "background-color:#dfd">void test_repository() {
	bub::tutorial_repo repo;
	repo.add(bub::tutorial{</span>
		"New1",
		"New1",
		bub::duration{ 12, 23 }, 123, "link1"
	});
<span style = "background-color:#dfd">	auto toFind = bub::tutorial{</span>
		"New2",
		"New2",
		bub::duration{ 12, 23 }, 123, "link2"
	};
<span style = "background-color:#dfd">	repo.add(toFind);
	repo.add(bub::tutorial{</span>
		"New3",
		"New3",
		bub::duration{ 12, 23 }, 123, "link3"
	});
<span style = "background-color:#dfd">	repo.add(bub::tutorial{</span>
		"New4",
		"New4",
		bub::duration{ 12, 23 }, 123, "link4"
	});
<span style = "background-color:#dfd">	assert(repo.get_all()[0].get_title() == "New1");
	assert(*repo.find_title("New2") == toFind);
	repo.remove(toFind);
	assert(repo.get_all().size() == 3);
	repo.add(toFind);
	try {
		repo.add(toFind);</span>
<span style = "background-color:#fdd">		assert(false);
	}</span>
	catch (std::exception ex) {
		assert(true);
<span style = "background-color:#dfd">	}
	bub::tutorial_repo newRepo{ repo };
	newRepo = repo;
	bub::tutorial* p = repo.find_title("not existing");
	assert(p == nullptr);</span>

<span style = "background-color:#dfd">}</span>

<span style = "background-color:#dfd">void test_controller() {
	bub::tutorial_repo repo;
	bub::tutorial_controller c{ repo };
	c.add_tutorial("New1", "New1", 123, 123, 123, "link");
	assert(c.get_all().size() == 1);
	auto t = c.edit_start("New1");
	try {
		c.edit_start("New2");</span>
<span style = "background-color:#fdd">		assert(false);
	}</span>
	catch (std::exception ex) {
		assert(true);
<span style = "background-color:#dfd">	}
	try {
		c.remove("not existing");</span>
<span style = "background-color:#fdd">		assert(false);</span>
<span style = "background-color:#dfd">	} catch (std::exception ex) {}
	c.remove("New1");</span>

<span style = "background-color:#dfd">	bub::tutorial_controller newc{ c };
	newc = c;
}</span>

<span style = "background-color:#dfd">void bub::tests::test_all() {
	test_vector();
	test_tutorial();
	test_repository();
	test_controller();
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>